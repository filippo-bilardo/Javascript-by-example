<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01.03 - Metodi Rettangolari Canvas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            color: rgba(255,255,255,0.9);
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .section h2 {
            color: #43e97b;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h2::before {
            content: '‚ñ≠';
            font-size: 1.2em;
        }

        canvas {
            border: 3px solid #43e97b;
            border-radius: 10px;
            display: block;
            margin: 20px auto;
            background: #f8f9fa;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .info-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .info-box strong {
            color: #2e7d32;
        }

        .info-box code {
            background: #c8e6c9;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .method-card {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .method-card h3 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .method-card code {
            background: rgba(255,255,255,0.2);
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
            justify-content: center;
        }

        button {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(67, 233, 123, 0.4);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(67, 233, 123, 0.6);
        }

        button:active {
            transform: translateY(0);
        }

        .code-display {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.3);
        }

        .code-display .comment { color: #6a9955; }
        .code-display .keyword { color: #569cd6; }
        .code-display .string { color: #ce9178; }
        .code-display .function { color: #dcdcaa; }
        .code-display .number { color: #b5cea8; }

        .demo-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .demo-buttons button {
            font-size: 14px;
            padding: 10px;
        }

        input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #43e97b;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-item {
            text-align: center;
        }

        .comparison-item h4 {
            color: #43e97b;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ñ≠ Metodi Rettangolari Canvas</h1>
        <p class="subtitle">fillRect, strokeRect, clearRect - I tre metodi fondamentali per i rettangoli</p>

        <!-- Sezione 1: fillRect() -->
        <div class="section">
            <h2>1. fillRect() - Rettangolo Pieno</h2>
            
            <div class="info-box">
                <strong>üìå fillRect(x, y, width, height)</strong><br>
                Disegna un rettangolo <strong>riempito</strong> con il colore specificato in <code>fillStyle</code>.
            </div>

            <canvas id="canvas1" width="600" height="300"></canvas>

            <div class="code-display">
<span class="comment">// Imposta il colore di riempimento</span>
ctx.fillStyle = <span class="string">'#43e97b'</span>;

<span class="comment">// Disegna rettangolo pieno: fillRect(x, y, larghezza, altezza)</span>
ctx.<span class="function">fillRect</span>(<span class="number">100</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">150</span>);

<span class="comment">// Cambia colore e disegna altro rettangolo</span>
ctx.fillStyle = <span class="string">'#38f9d7'</span>;
ctx.<span class="function">fillRect</span>(<span class="number">300</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">100</span>);
            </div>

            <div class="controls">
                <button onclick="demoFillRect1()">Demo 1: Rettangolo Singolo</button>
                <button onclick="demoFillRect2()">Demo 2: Griglia Colorata</button>
                <button onclick="demoFillRect3()">Demo 3: Gradiente</button>
            </div>
        </div>

        <!-- Sezione 2: strokeRect() -->
        <div class="section">
            <h2>2. strokeRect() - Contorno Rettangolo</h2>
            
            <div class="info-box">
                <strong>üìå strokeRect(x, y, width, height)</strong><br>
                Disegna solo il <strong>contorno</strong> di un rettangolo con il colore e spessore specificati in <code>strokeStyle</code> e <code>lineWidth</code>.
            </div>

            <canvas id="canvas2" width="600" height="300"></canvas>

            <div class="slider-container">
                <label>Spessore Linea (lineWidth): <span id="lineWidthValue">3</span>px</label>
                <input type="range" id="lineWidth" min="1" max="20" value="3">
            </div>

            <div class="code-display">
<span class="comment">// Imposta colore e spessore del contorno</span>
ctx.strokeStyle = <span class="string">'#43e97b'</span>;
ctx.lineWidth = <span class="number">5</span>;

<span class="comment">// Disegna solo il contorno: strokeRect(x, y, larghezza, altezza)</span>
ctx.<span class="function">strokeRect</span>(<span class="number">100</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">150</span>);
            </div>

            <div class="controls">
                <button onclick="demoStrokeRect1()">Demo 1: Contorno Semplice</button>
                <button onclick="demoStrokeRect2()">Demo 2: Bordi Sovrapposti</button>
                <button onclick="demoStrokeRect3()">Demo 3: Frame Multipli</button>
            </div>
        </div>

        <!-- Sezione 3: clearRect() -->
        <div class="section">
            <h2>3. clearRect() - Cancellare Area</h2>
            
            <div class="info-box">
                <strong>üìå clearRect(x, y, width, height)</strong><br>
                <strong>Cancella</strong> un'area rettangolare, rendendola trasparente. Utile per animazioni e aggiornamenti parziali.
            </div>

            <canvas id="canvas3" width="600" height="300"></canvas>

            <div class="code-display">
<span class="comment">// Cancella un'area rettangolare</span>
ctx.<span class="function">clearRect</span>(<span class="number">150</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">80</span>);

<span class="comment">// Cancella tutto il canvas</span>
ctx.<span class="function">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);
            </div>

            <div class="controls">
                <button onclick="demoClearRect1()">Demo 1: Finestra</button>
                <button onclick="demoClearRect2()">Demo 2: Buchi Casuali</button>
                <button onclick="demoClearRect3()">Demo 3: Animazione Cancellazione</button>
                <button onclick="resetCanvas3()">üîÑ Reset</button>
            </div>
        </div>

        <!-- Sezione 4: Confronto -->
        <div class="section">
            <h2>4. Confronto: fill vs stroke vs clear</h2>
            
            <div class="comparison">
                <div class="comparison-item">
                    <h4>fillRect()</h4>
                    <canvas id="canvas4a" width="280" height="200"></canvas>
                    <p>Rettangolo <strong>pieno</strong></p>
                </div>
                <div class="comparison-item">
                    <h4>strokeRect()</h4>
                    <canvas id="canvas4b" width="280" height="200"></canvas>
                    <p>Solo <strong>contorno</strong></p>
                </div>
            </div>

            <div class="comparison">
                <div class="comparison-item">
                    <h4>fill + stroke</h4>
                    <canvas id="canvas4c" width="280" height="200"></canvas>
                    <p><strong>Combinati</strong></p>
                </div>
                <div class="comparison-item">
                    <h4>clearRect()</h4>
                    <canvas id="canvas4d" width="280" height="200"></canvas>
                    <p>Area <strong>cancellata</strong></p>
                </div>
            </div>
        </div>

        <!-- Sezione 5: Playground Interattivo -->
        <div class="section">
            <h2>5. Playground: Prova i Metodi</h2>
            
            <canvas id="canvas5" width="600" height="400"></canvas>

            <div class="demo-buttons">
                <button onclick="playgroundFill()">fillRect()</button>
                <button onclick="playgroundStroke()">strokeRect()</button>
                <button onclick="playgroundBoth()">fill + stroke</button>
                <button onclick="playgroundClear()">clearRect()</button>
                <button onclick="playgroundPattern()">Pattern</button>
                <button onclick="clearCanvas5()">üóëÔ∏è Cancella Tutto</button>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div>
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Colore Riempimento:</label>
                    <input type="color" id="fillColor" value="#43e97b" style="width: 100%; height: 40px;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Colore Contorno:</label>
                    <input type="color" id="strokeColor" value="#38f9d7" style="width: 100%; height: 40px;">
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sezione 1: fillRect()
        const canvas1 = document.getElementById('canvas1');
        const ctx1 = canvas1.getContext('2d');

        function demoFillRect1() {
            ctx1.clearRect(0, 0, 600, 300);
            ctx1.fillStyle = '#43e97b';
            ctx1.fillRect(200, 75, 200, 150);
        }

        function demoFillRect2() {
            ctx1.clearRect(0, 0, 600, 300);
            const colors = ['#43e97b', '#38f9d7', '#fa709a', '#fee140', '#30cfd0'];
            let colorIndex = 0;
            
            for (let x = 0; x < 600; x += 60) {
                for (let y = 0; y < 300; y += 60) {
                    ctx1.fillStyle = colors[colorIndex % colors.length];
                    ctx1.fillRect(x, y, 55, 55);
                    colorIndex++;
                }
            }
        }

        function demoFillRect3() {
            ctx1.clearRect(0, 0, 600, 300);
            for (let i = 0; i < 20; i++) {
                const alpha = 1 - (i / 20);
                ctx1.fillStyle = `rgba(67, 233, 123, ${alpha})`;
                ctx1.fillRect(50 + i * 25, 50 + i * 10, 200 - i * 8, 200 - i * 8);
            }
        }

        demoFillRect1();

        // Sezione 2: strokeRect()
        const canvas2 = document.getElementById('canvas2');
        const ctx2 = canvas2.getContext('2d');

        document.getElementById('lineWidth').addEventListener('input', function() {
            document.getElementById('lineWidthValue').textContent = this.value;
            demoStrokeRect1();
        });

        function demoStrokeRect1() {
            ctx2.clearRect(0, 0, 600, 300);
            ctx2.strokeStyle = '#43e97b';
            ctx2.lineWidth = parseInt(document.getElementById('lineWidth').value);
            ctx2.strokeRect(200, 75, 200, 150);
        }

        function demoStrokeRect2() {
            ctx2.clearRect(0, 0, 600, 300);
            const colors = ['#43e97b', '#38f9d7', '#fa709a'];
            
            for (let i = 0; i < 3; i++) {
                ctx2.strokeStyle = colors[i];
                ctx2.lineWidth = 3;
                ctx2.strokeRect(100 + i * 30, 50 + i * 30, 300, 150);
            }
        }

        function demoStrokeRect3() {
            ctx2.clearRect(0, 0, 600, 300);
            ctx2.strokeStyle = '#43e97b';
            
            for (let i = 0; i < 6; i++) {
                ctx2.lineWidth = i + 1;
                ctx2.strokeRect(50 + i * 80, 50, 70, 200);
            }
        }

        demoStrokeRect1();

        // Sezione 3: clearRect()
        const canvas3 = document.getElementById('canvas3');
        const ctx3 = canvas3.getContext('2d');

        function fillCanvas3() {
            ctx3.fillStyle = '#43e97b';
            ctx3.fillRect(0, 0, 600, 300);
        }

        function demoClearRect1() {
            fillCanvas3();
            ctx3.clearRect(200, 100, 200, 100);
            
            ctx3.strokeStyle = '#38f9d7';
            ctx3.lineWidth = 3;
            ctx3.strokeRect(200, 100, 200, 100);
        }

        function demoClearRect2() {
            fillCanvas3();
            
            for (let i = 0; i < 20; i++) {
                const x = Math.random() * 500;
                const y = Math.random() * 200;
                const size = Math.random() * 50 + 20;
                ctx3.clearRect(x, y, size, size);
            }
        }

        function demoClearRect3() {
            fillCanvas3();
            
            let progress = 0;
            const interval = setInterval(() => {
                ctx3.clearRect(0, 0, progress * 6, 300);
                progress += 10;
                
                if (progress > 100) {
                    clearInterval(interval);
                }
            }, 50);
        }

        function resetCanvas3() {
            fillCanvas3();
        }

        fillCanvas3();

        // Sezione 4: Confronto
        const canvas4a = document.getElementById('canvas4a');
        const ctx4a = canvas4a.getContext('2d');
        const canvas4b = document.getElementById('canvas4b');
        const ctx4b = canvas4b.getContext('2d');
        const canvas4c = document.getElementById('canvas4c');
        const ctx4c = canvas4c.getContext('2d');
        const canvas4d = document.getElementById('canvas4d');
        const ctx4d = canvas4d.getContext('2d');

        // fillRect
        ctx4a.fillStyle = '#43e97b';
        ctx4a.fillRect(50, 40, 180, 120);

        // strokeRect
        ctx4b.strokeStyle = '#43e97b';
        ctx4b.lineWidth = 5;
        ctx4b.strokeRect(50, 40, 180, 120);

        // Both
        ctx4c.fillStyle = '#43e97b';
        ctx4c.fillRect(50, 40, 180, 120);
        ctx4c.strokeStyle = '#38f9d7';
        ctx4c.lineWidth = 5;
        ctx4c.strokeRect(50, 40, 180, 120);

        // clearRect
        ctx4d.fillStyle = '#43e97b';
        ctx4d.fillRect(0, 0, 280, 200);
        ctx4d.clearRect(50, 40, 180, 120);

        // Sezione 5: Playground
        const canvas5 = document.getElementById('canvas5');
        const ctx5 = canvas5.getContext('2d');

        function getRandomRect() {
            return {
                x: Math.random() * 400,
                y: Math.random() * 250,
                w: Math.random() * 150 + 50,
                h: Math.random() * 100 + 50
            };
        }

        function playgroundFill() {
            const rect = getRandomRect();
            const color = document.getElementById('fillColor').value;
            ctx5.fillStyle = color;
            ctx5.fillRect(rect.x, rect.y, rect.w, rect.h);
        }

        function playgroundStroke() {
            const rect = getRandomRect();
            const color = document.getElementById('strokeColor').value;
            ctx5.strokeStyle = color;
            ctx5.lineWidth = 5;
            ctx5.strokeRect(rect.x, rect.y, rect.w, rect.h);
        }

        function playgroundBoth() {
            const rect = getRandomRect();
            const fillColor = document.getElementById('fillColor').value;
            const strokeColor = document.getElementById('strokeColor').value;
            
            ctx5.fillStyle = fillColor;
            ctx5.fillRect(rect.x, rect.y, rect.w, rect.h);
            ctx5.strokeStyle = strokeColor;
            ctx5.lineWidth = 5;
            ctx5.strokeRect(rect.x, rect.y, rect.w, rect.h);
        }

        function playgroundClear() {
            const rect = getRandomRect();
            ctx5.clearRect(rect.x, rect.y, rect.w, rect.h);
        }

        function playgroundPattern() {
            const fillColor = document.getElementById('fillColor').value;
            const strokeColor = document.getElementById('strokeColor').value;
            
            for (let x = 0; x < 600; x += 100) {
                for (let y = 0; y < 400; y += 100) {
                    ctx5.fillStyle = fillColor;
                    ctx5.fillRect(x + 10, y + 10, 80, 80);
                    ctx5.strokeStyle = strokeColor;
                    ctx5.lineWidth = 3;
                    ctx5.strokeRect(x + 10, y + 10, 80, 80);
                }
            }
        }

        function clearCanvas5() {
            ctx5.clearRect(0, 0, 600, 400);
        }

        // Disegna griglia iniziale
        ctx5.strokeStyle = '#e0e0e0';
        ctx5.lineWidth = 1;
        for (let x = 0; x <= 600; x += 50) {
            ctx5.beginPath();
            ctx5.moveTo(x, 0);
            ctx5.lineTo(x, 400);
            ctx5.stroke();
        }
        for (let y = 0; y <= 400; y += 50) {
            ctx5.beginPath();
            ctx5.moveTo(0, y);
            ctx5.lineTo(600, y);
            ctx5.stroke();
        }
    </script>
</body>
</html>
